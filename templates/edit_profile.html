{% extends 'base.html' %}

{% block title %}Edit Profile - NHCE Lost & Found{% endblock %}

{% block content %}
<div class="container">
    <a href="{{ url_for('profile', user_id=current_user.id) }}" class="back-link">
        <i class="fas fa-arrow-left"></i> Back to Profile
    </a>
    
    <div class="page-header centered">
        <h1><i class="fas fa-user-edit"></i> Edit Profile</h1>
        <p>Update your profile information</p>
    </div>
    
    <div class="edit-form-container">
        <form method="POST" class="edit-form">
            <div class="form-group">
                <label for="full_name">Full Name</label>
                <input type="text" id="full_name" name="full_name" 
                       value="{{ current_user.full_name }}" required>
            </div>
            
            <div class="form-group">
                <label for="email">Email (cannot be changed)</label>
                <input type="email" id="email" value="{{ current_user.email }}" disabled>
            </div>
            
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" 
                       value="{{ current_user.phone or '' }}"
                       placeholder="Your contact number">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="department">Department</label>
                    <select id="department" name="department">
                        <option value="">Select Department</option>
                        {% for dept in ['CSE', 'ISE', 'ECE', 'EEE', 'ME', 'CE', 'AI', 'DS', 'Other'] %}
                        <option value="{{ dept }}" {% if current_user.department == dept %}selected{% endif %}>
                            {{ dept }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="year">Year</label>
                    <select id="year" name="year">
                        <option value="">Select Year</option>
                        {% for yr in ['1st Year', '2nd Year', '3rd Year', '4th Year', 'Faculty', 'Staff'] %}
                        <option value="{{ yr }}" {% if current_user.year == yr %}selected{% endif %}>
                            {{ yr }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary btn-lg">
                <i class="fas fa-save"></i> Save Changes
            </button>
        </form>
    </div>
</div>
{% endblock %}

